#!/bin/bash
# A script to print out all of the 
# cronjobs on a given Linux system

# Must be run as root
if [ $UID -ne 0 ]; then
	echo 'ERROR: Must be root to run this script. Exiting.' >&2
	exit 1
fi

# First do root
echo -- Begin root crontab --
crontab -l | grep -v 'DO NOT EDIT THIS FILE' | grep -v /tmp/crontab. | grep -v ^'# (Cron version '
echo

# Then do everyone else
for i in `ls /home/`; do
	#echo
	echo -- Begin $i crontab --
	crontab -u $i -l | grep -v 'DO NOT EDIT THIS FILE' | grep -v /tmp/crontab. | grep -v ^'# (Cron version '
	echo
done
